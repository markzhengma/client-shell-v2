(this["webpackJsonpclient-shell-v2"]=this["webpackJsonpclient-shell-v2"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(18),r=a.n(c),s=(a(24),a(1)),l=a(2),o=a(4),u=a(3),h=a(5),d=(a(25),a(7)),m=a(8),v=a.n(m),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleAdminLogin=function(e){e.preventDefault(),""===a.state.admin_name||""===a.state.admin_pass?alert("\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u8d26\u53f7\u548c\u5bc6\u7801"):v.a.get("https://www.hailarshell.cn/api/admin/login?admin=".concat(a.state.admin_name,"&pass=").concat(a.state.admin_pass)).then((function(e){200!==e.data.code?422===e.data.code?alert("\u8f93\u5165\u683c\u5f0f\u6709\u8bef"):alert("\u8bf7\u518d\u6b21\u68c0\u67e5\u8d26\u53f7\u548c\u5bc6\u7801"):(a.props.setAdmin(e.data.data),a.props.handlePageChange("admin"))})).catch((function(e){console.log(e)}))},a.state={admin_name:"",admin_pass:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(d.a)({},n,a))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleAdminLogin.bind(this)},i.a.createElement("input",{type:"text",name:"admin_name",value:this.state.admin_name,onChange:this.handleChange.bind(this),placeholder:"\u7ba1\u7406\u5458\u8d26\u53f7"}),i.a.createElement("input",{type:"password",name:"admin_pass",value:this.state.admin_pass,onChange:this.handleChange.bind(this),placeholder:"\u7ba1\u7406\u5458\u5bc6\u7801"}),i.a.createElement("button",{type:"submit"},"\u767b\u5f55")))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={filter:"record_num",value:"",data:{}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(d.a)({},n,a))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,"\u59d3\u540d\uff1a",this.props.userData.user_name||""),i.a.createElement("div",null,"\u6362\u6cb9\u8bc1\u53f7\uff1a",this.props.userData.record_num||""),i.a.createElement("div",null,"\u8054\u7cfb\u65b9\u5f0f\uff1a",this.props.userData.phone||""),i.a.createElement("div",null,"\u8f66\u724c\u53f7\uff1a",this.props.userData.plate||""),i.a.createElement("div",null,"\u8f66\u578b\uff1a",this.props.userData.make||""),i.a.createElement("div",null,"\u5907\u6ce8\uff1a",this.props.userData.detail||""))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:{}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.recordListData;return i.a.createElement("div",null,i.a.createElement("div",{className:"record-single"},i.a.createElement("div",{className:"record-column"},"\u65e5\u671f"),i.a.createElement("div",{className:"record-column"},"\u5907\u6ce8"),i.a.createElement("div",{className:"record-column"},"\u8d60\u54c1\u60c5\u51b5"),i.a.createElement("div",{className:"record-column"},"\u8868\u793a\u91cc\u7a0b"),i.a.createElement("div",{className:"record-column"},"\u64cd\u4f5c\u4eba"),i.a.createElement("div",{className:"record-column"},"\u9879\u76ee\u540d\u79f0"),i.a.createElement("div",{className:"record-column"},"\u6362\u6cb9\u8bc1\u53f7")),e.map((function(e){return i.a.createElement("div",{className:"record-single",id:e._id},i.a.createElement("div",{className:"record-column"},e.date),i.a.createElement("div",{className:"record-column"},e.detail),i.a.createElement("div",{className:"record-column"},e.gift),i.a.createElement("div",{className:"record-column"},e.milage),i.a.createElement("div",{className:"record-column"},e.operator),i.a.createElement("div",{className:"record-column"},e.product_name),i.a.createElement("div",{className:"record-column"},e.record_num))})))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={filter:"record_num",value:"",userData:"",recordListData:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(d.a)({},n,a))}},{key:"handleFindUserSubmit",value:function(e){var t=this;e.preventDefault(),v.a.get("https://www.hailarshell.cn/api/user/single?filter=".concat(this.state.filter,"&value=").concat(this.state.value)).then((function(e){if(200!==e.data.code)alert(e.data.code+"\n"+JSON.stringify(e.data.data));else{t.setState({userData:e.data.data});var a=e.data.data.record_num;v.a.get("https://www.hailarshell.cn/api/record/user/".concat(a)).then((function(e){200!==e.data.code?alert(e.data):t.setState({recordListData:e.data.data})})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleFindUserSubmit.bind(this)},i.a.createElement("select",{name:"filter",value:this.state.filter,onChange:this.handleChange.bind(this)},i.a.createElement("option",{value:"record_num"},"\u6309\u6362\u6cb9\u8bc1\u53f7\u67e5\u627e"),i.a.createElement("option",{value:"phone"},"\u6309\u624b\u673a\u53f7\u67e5\u627e"),i.a.createElement("option",{value:"plate"},"\u6309\u8f66\u724c\u53f7\u67e5\u627e")),i.a.createElement("input",{type:"text",name:"value",value:this.state.value,onChange:this.handleChange.bind(this),placeholder:"\u5185\u5bb9"}),i.a.createElement("button",{type:"submit"},"\u67e5\u627e")),""!==this.state.userData?i.a.createElement(g,{userData:this.state.userData}):"",""!==this.state.recordListData?i.a.createElement(f,{recordListData:this.state.recordListData}):"")}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={userData:"",user_name:"",record_num:"",phone:"",plate:"",make:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(d.a)({},n,a))}},{key:"handleNewUserSubmit",value:function(e){var t=this;e.preventDefault(),window.confirm("\u8bf7\u6838\u5bf9\u65b0\u7528\u6237\u4fe1\u606f\uff1a\n".concat(this.state.user_name,"\n").concat(this.state.record_num,"\n").concat(this.state.phone,"\n").concat(this.state.make,"\n").concat(this.state.plate))&&v.a.post("https://www.hailarshell.cn/api/user/single?make=".concat(this.state.make,"&phone=").concat(this.state.phone,"&plate=").concat(this.state.plate,"&record_num=").concat(this.state.record_num,"&user_name=").concat(this.state.user_name)).then((function(e){200!==e.data.code?alert(e.data.code+"\n"+JSON.stringify(e.data.data)):t.setState({userData:e.data.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,""!==this.state.userData?i.a.createElement(g,{userData:this.state.userData}):i.a.createElement("div",{className:"user-box"},"\u5ba2\u6237\u59d3\u540d\uff1a",i.a.createElement("input",{className:"input-single",name:"user_name",onChange:this.handleChange.bind(this),value:this.state.user_name}),"\u6362\u6cb9\u8bc1\u53f7\uff1a",i.a.createElement("input",{className:"input-single",name:"record_num",onChange:this.handleChange.bind(this),value:this.state.record_num}),"\u8054\u7cfb\u65b9\u5f0f\uff1a",i.a.createElement("input",{className:"input-single",name:"phone",onChange:this.handleChange.bind(this),value:this.state.phone}),"\u8f66\u724c\u53f7\uff1a",i.a.createElement("input",{className:"input-single",name:"plate",onChange:this.handleChange.bind(this),value:this.state.plate}),"\u8f66\u578b\uff1a",i.a.createElement("input",{className:"input-single",name:"make",onChange:this.handleChange.bind(this),value:this.state.make}),i.a.createElement("button",{className:"submit-btn",onClick:this.handleNewUserSubmit.bind(this)},"\u521b\u5efa")))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={action:"find_user"},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(d.a)({},n,a))}},{key:"changeAction",value:function(e){this.setState({action:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"nav-bar"},i.a.createElement("div",{className:"nav-btn",onClick:function(){return e.changeAction("find_user")}},"\u67e5\u627e\u8001\u7528\u6237"),i.a.createElement("div",{className:"nav-btn",onClick:function(){return e.changeAction("new_user")}},"\u521b\u5efa\u65b0\u7528\u6237")),"find_user"===this.state.action?i.a.createElement(b,null):"","new_user"===this.state.action?i.a.createElement(E,{changeAction:this.changeAction.bind(this)}):"")}}]),t}(n.Component),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={admin:{},page:"login"},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setAdmin",value:function(e){this.setState({admin:e})}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Shell"),"login"===this.state.page?i.a.createElement(p,{setAdmin:this.setAdmin.bind(this),handlePageChange:this.handlePageChange.bind(this)}):"","admin"===this.state.page?i.a.createElement(k,{handlePageChange:this.handlePageChange.bind(this)}):"")}}]),t}(n.Component),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(i.a.createElement(O,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/client-shell-v2",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/client-shell-v2","/service-worker.js");j?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):w(e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.0451026f.chunk.js.map